%
% API Documentation for API Documentation
% Module tempcontrol
%
% Generated by epydoc 3.0alpha2
% [Thu Jul 20 16:44:54 2006]
%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          Module Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{tempcontrol \textit{(module)}|(}
\section{Module tempcontrol}

    \label{tempcontrol}
tempcontrol.py

Control temperature by varying power to a heater resistor.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               Variables                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsection{Variables}

\begin{longtable}{|p{.30\textwidth}|p{.62\textwidth}|l}
\cline{1-2}
\cline{1-2} \centering \textbf{Name} & \centering \textbf{Description}& \\
\cline{1-2}
\endhead\cline{1-2}\multicolumn{3}{r}{\small\textit{continued on next page}}\\\endfoot\cline{1-2}
\endlastfoot\raggedright \_\-\_\-v\-e\-r\-s\-i\-o\-n\-\_\-\_\- & \textbf{Value:} 
{\tt '\-\$\-I\-d\-:\-~\-t\-e\-m\-p\-c\-o\-n\-t\-r\-o\-l\-.\-p\-y\-~\-3\-1\-4\-~\-2\-0\-0\-4\--\-1\-2\--\-0\-7\-~\-1\-5\-:\-2\-5\-:\-5\-1\-Z\-~\-d\-s\-p\-~\-\$\-~\-'\-}&\\
\cline{1-2}
\raggedright \_\-\_\-a\-u\-t\-h\-o\-r\-\_\-\_\- & \textbf{Value:} 
{\tt '\-\$\-A\-u\-t\-h\-o\-r\-:\-~\-d\-s\-p\-~\-\$\-'\-}&\\
\cline{1-2}
\raggedright \_\-\_\-U\-R\-L\-\_\-\_\- & \textbf{Value:} 
{\tt '\-\$\-U\-R\-L\-:\-~\-h\-t\-t\-p\-:\-/\-/\-a\-s\-t\-r\-o\-.\-p\-a\-s\-.\-r\-o\-c\-h\-e\-s\-t\-e\-r\-.\-e\-d\-u\-/\-s\-v\-n\-/\-p\-y\-d\-s\-p\-/\-t\-r\-u\-n\-k\-/\-p\-y\-d\-s\-p\-/\-t\-e\-m\-p\-c\-o\-n\-t\-r\-o\-l\-.\-p\-y\-~\-\$\-'\-}&\\
\cline{1-2}
\end{longtable}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                           Class Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}|(}
\subsection{Class tcontroller}

    \label{tempcontrol:tcontroller}
Generic temperature controller class.

Ideally, the thermal modelling is accurate, and little extra is needed to 
close the loop.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                Methods                                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Methods}

    \label{tempcontrol:tcontroller:__init__}
    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}!tempcontrol.tcontroller.\_\_init\_\_ \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_init\_\_}(\textit{self}, \textit{temp\_reader}=\texttt{None}, \textit{heat\_writer}=\texttt{None}, \textit{K\_per\_min}=\texttt{0.1}, \textit{decay\_minutes}=\texttt{55}, \textit{equilib\_K}=\texttt{29.6}, \textit{equilib\_V}=\texttt{3.0}, \textit{gain}=\texttt{10}, \textit{wfile}=\texttt{sys.stdout})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    create a new temp controller object.

    \vspace{1ex}

    \end{boxedminipage}

    \label{tempcontrol:tcontroller:watts}
    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}!tempcontrol.tcontroller.watts \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{watts}(\textit{self}, \textit{error}=\texttt{None})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    Given all else, what power should we put out?

    \vspace{1ex}

    \end{boxedminipage}

    \label{tempcontrol:tcontroller:ac_watts}
    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}!tempcontrol.tcontroller.ac\_watts \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{ac\_watts}(\textit{self})

    \end{boxedminipage}

    \label{tempcontrol:tcontroller:K_per_min}
    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}!tempcontrol.tcontroller.K\_per\_min \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{K\_per\_min}(\textit{self})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    given the carrot, goal, and ramp rate, yield desired thermal velocity.

    \vspace{1ex}

    \end{boxedminipage}

    \label{tempcontrol:tcontroller:r_power}
    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}!tempcontrol.tcontroller.r\_power \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{r\_power}(\textit{self}, \textit{volts})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    Return resistor power for a given voltage

    \vspace{1ex}

    \end{boxedminipage}

    \label{tempcontrol:tcontroller:dc_watts}
    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}!tempcontrol.tcontroller.dc\_watts \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{dc\_watts}(\textit{self}, \textit{temp}=\texttt{None})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    watts needed to sustain temp (defaults to current carrot)

    \vspace{1ex}

    \end{boxedminipage}

    \label{tempcontrol:tcontroller:watts_per_K}
    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}!tempcontrol.tcontroller.watts\_per\_K \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{watts\_per\_K}(\textit{self}, \textit{temp}=\texttt{None})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    Return slope of watts vs temp curve at the specified temp. thermal 
    conductivity varies wildly with temperature.. also, the array may 
    self-heat differently at different temps.

    \vspace{1ex}

    \end{boxedminipage}

    \label{tempcontrol:tcontroller:set_dc_calibration}
    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}!tempcontrol.tcontroller.set\_dc\_calibration \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{set\_dc\_calibration}(\textit{self}, \textit{reading1}, \textit{reading2})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    using two known control points, where each reading is a tuple (voltage,
    temp), set the slope and equilibrium points.

    \vspace{1ex}

    \end{boxedminipage}

    \label{tempcontrol:tcontroller:load_r}
    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}!tempcontrol.tcontroller.load\_r \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{load\_r}(\textit{self})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    Return the load resistance. Why a function? R may vary with temp. 
    (property might be good here) the current monitor could actually help 
    here, and measure the current, and we could compute the proper voltage 
    to deliver that power.

    \vspace{1ex}

    \end{boxedminipage}

    \label{tempcontrol:tcontroller:volts}
    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}!tempcontrol.tcontroller.volts \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{volts}(\textit{self}, \textit{watts}=\texttt{None})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    power is V squared over R. V = sqrt(power * resistance)

    \vspace{1ex}

    \end{boxedminipage}

    \label{tempcontrol:tcontroller:readTemp}
    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}!tempcontrol.tcontroller.readTemp \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{readTemp}(\textit{self})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    return the current temperature in degrees Kelvin. MUST OVERRIDE!

    \vspace{1ex}

    \end{boxedminipage}

    \label{tempcontrol:tcontroller:setHeater}
    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}!tempcontrol.tcontroller.setHeater \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{setHeater}(\textit{self}, \textit{voltage})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    set the heater voltage in volts. MUST OVERRIDE!

    \vspace{1ex}

    \end{boxedminipage}

    \label{tempcontrol:tcontroller:adjustCarrot}
    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}!tempcontrol.tcontroller.adjustCarrot \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{adjustCarrot}(\textit{self})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    Move the carrot. carrot == desired instantaneous temperature. (picture 
    a horse with a carrot hanging in front of it)

    \vspace{1ex}

    \end{boxedminipage}

    \label{tempcontrol:tcontroller:do}
    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}!tempcontrol.tcontroller.do \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{do}(\textit{self})

    \end{boxedminipage}

    \label{tempcontrol:tcontroller:goto}
    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}!tempcontrol.tcontroller.goto \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{goto}(\textit{self}, \textit{newgoal})

    \end{boxedminipage}

    \index{tempcontrol \textit{(module)}!tempcontrol.tcontroller \textit{(class)}|)}
    \index{tempcontrol \textit{(module)}|)}
