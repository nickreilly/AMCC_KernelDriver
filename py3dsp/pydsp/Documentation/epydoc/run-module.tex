%
% API Documentation for API Documentation
% Module run
%
% Generated by epydoc 3.0alpha2
% [Thu Jul 20 16:44:54 2006]
%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          Module Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{run \textit{(module)}|(}
\section{Module run}

    \label{run}
run.py. Handles the run dictionary--

This smart dictionary contains the things that are persisted and restored. 
when the system is shut down and restarted.

it is hard to say what is "detector" and what is "last run" some things 
might be shared between them. bias voltages?? clock rails? detector might 
have defaults

This seems to go against the single responsibility principle.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               Functions                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsection{Functions}

    \label{run:init}
    \index{run \textit{(module)}!run.init \textit{(function)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{init}(\textit{wfile}=\texttt{sys.stdout})

    \end{boxedminipage}

    \label{run:asksavedet}
    \index{run \textit{(module)}!run.asksavedet \textit{(function)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{asksavedet}(\textit{wfile}=\texttt{sys.stdout})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    XXX check if the detector configuration has changed.

    \vspace{1ex}

    \end{boxedminipage}

    \label{run:savesetup}
    \index{run \textit{(module)}!run.savesetup \textit{(function)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{savesetup}(\textit{filename}=\texttt{"lastrun.run"}, \textit{wfile}=\texttt{sys.stdout})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    Saves the current configuration to filename. Default is "lastrun.run."

    It uses the detpath from xdir, saves the rundict stuff and also saves 
    the detector file.

    NOTE: Does NOT save bias and clock voltages, except for a few 
    exceptions.

    \vspace{1ex}

    \end{boxedminipage}

    \label{run:setup}
    \index{run \textit{(module)}!run.setup \textit{(function)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{setup}(\textit{filename}, \textit{wfile}=\texttt{sys.stdout})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    Recover system state from rundata file.

    using detpath, load in rundata file (usually lastrun.run) loop through 
    this file and parse lines into key/value pairs. check the run dict for 
    the key and assign there. if the key is in 'detkeys' then it is a 
    special det file value we save and restore as an exception.

    \vspace{1ex}

    \end{boxedminipage}

    \label{run:recover}
    \index{run \textit{(module)}!run.recover \textit{(function)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{recover}(\textit{filename}=\texttt{"lastrun.run"})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    Read in the contents of filename (the run file) and reinitialize 
    things.

    The detector filename, when restored, causes the det variables to be 
    recovered as well.

    \vspace{1ex}

    \end{boxedminipage}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               Variables                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsection{Variables}

\begin{longtable}{|p{.30\textwidth}|p{.62\textwidth}|l}
\cline{1-2}
\cline{1-2} \centering \textbf{Name} & \centering \textbf{Description}& \\
\cline{1-2}
\endhead\cline{1-2}\multicolumn{3}{r}{\small\textit{continued on next page}}\\\endfoot\cline{1-2}
\endlastfoot\raggedright \_\-\_\-v\-e\-r\-s\-i\-o\-n\-\_\-\_\- & \textbf{Value:} 
{\tt '\-\$\-I\-d\-:\-~\-r\-u\-n\-.\-p\-y\-~\-4\-0\-0\-~\-2\-0\-0\-6\--\-0\-6\--\-1\-9\-~\-2\-2\-:\-3\-9\-:\-3\-0\-Z\-~\-d\-r\-e\-w\-~\-\$\-~\-'\-}&\\
\cline{1-2}
\raggedright \_\-\_\-a\-u\-t\-h\-o\-r\-\_\-\_\- & \textbf{Value:} 
{\tt '\-\$\-A\-u\-t\-h\-o\-r\-:\-~\-d\-r\-e\-w\-~\-\$\-'\-}&\\
\cline{1-2}
\raggedright \_\-\_\-U\-R\-L\-\_\-\_\- & \textbf{Value:} 
{\tt '\-\$\-U\-R\-L\-:\-~\-h\-t\-t\-p\-:\-/\-/\-a\-s\-t\-r\-o\-.\-p\-a\-s\-.\-r\-o\-c\-h\-e\-s\-t\-e\-r\-.\-e\-d\-u\-/\-s\-v\-n\-/\-p\-y\-d\-s\-p\-/\-t\-r\-u\-n\-k\-/\-p\-y\-d\-s\-p\-/\-r\-u\-n\-.\-p\-y\-~\-\$\-'\-}&\\
\cline{1-2}
\raggedright d\-e\-t\-k\-e\-y\-s\- & \textbf{Value:} 
{\tt [\-'\-v\-o\-f\-f\-s\-e\-t\-'\-,\-~\-'\-v\-r\-e\-s\-e\-t\-'\-]\-}&\\
\cline{1-2}
\raggedright r\-d\- & \textbf{Value:} 
{\tt \{\-\}\-}&\\
\cline{1-2}
\end{longtable}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                           Class Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{run \textit{(module)}!run.RunDict \textit{(class)}|(}
\subsection{Class RunDict}

    \label{run:RunDict}
\begin{tabular}{cccccccc}
% Line for object, linespec=[False, False]
\multicolumn{2}{r}{\settowidth{\BCL}{object}\multirow{2}{\BCL}{object}}
&&
&&
  \\\cline{3-3}
  &&\multicolumn{1}{c|}{}
&&
&&
  \\
% Line for DataDict.DataDict, linespec=[False]
\multicolumn{4}{r}{\settowidth{\BCL}{DataDict.DataDict}\multirow{2}{\BCL}{DataDict.DataDict}}
&&
  \\\cline{5-5}
  &&&&\multicolumn{1}{c|}{}
&&
  \\
&&&&\multicolumn{2}{l}{\textbf{run.RunDict}}
\end{tabular}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                Methods                                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Methods}

    \label{DataDict:DataDict:__cmp__}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.\_\_cmp\_\_ \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_cmp\_\_}(\textit{self}, \textit{dict})

    \end{boxedminipage}

    \label{DataDict:DataDict:__contains__}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.\_\_contains\_\_ \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_contains\_\_}(\textit{self}, \textit{key})

    \end{boxedminipage}

    \label{object:__delattr__}
    \index{object.\_\_delattr\_\_ \textit{(function)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_delattr\_\_}(\textit{...})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    x.\_\_delattr\_\_('name') {\textless}=={\textgreater} del x.name

    \vspace{1ex}

    \end{boxedminipage}

    \label{DataDict:DataDict:__delitem__}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.\_\_delitem\_\_ \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_delitem\_\_}(\textit{self}, \textit{key})

    \end{boxedminipage}

    \label{DataDict:DataDict:__getattr__}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.\_\_getattr\_\_ \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_getattr\_\_}(\textit{self}, \textit{name})

    \end{boxedminipage}

    \label{object:__getattribute__}
    \index{object.\_\_getattribute\_\_ \textit{(function)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_getattribute\_\_}(\textit{...})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    x.\_\_getattribute\_\_('name') {\textless}=={\textgreater} x.name

    \vspace{1ex}

    \end{boxedminipage}

    \label{DataDict:DataDict:__getitem__}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.\_\_getitem\_\_ \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_getitem\_\_}(\textit{self}, \textit{name})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    Recall a value from the smart dictionary.

    If the name has a getfunc, that function is called (with arguments if 
    arguments are defined for the name; the arguments are the same for 
    setfunc and getfunc) The return value of getfunc is returned to the 
    user. If no getfunc exists, the internal value associated with that 
    name is returned.

    \vspace{1ex}

    \end{boxedminipage}

    \label{object:__hash__}
    \index{object.\_\_hash\_\_ \textit{(function)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_hash\_\_}(\textit{x})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    hash(x)

    \vspace{1ex}

    \end{boxedminipage}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_init\_\_}(\textit{self}, \textit{dict}=\texttt{None})

    x.\_\_init\_\_(...) initializes x; see x.\_\_class\_\_.\_\_doc\_\_ for 
    signature

    \vspace{1ex}

      Overrides: object.\_\_init\_\_ 	extit{(inherited documentation)}

    \end{boxedminipage}

    \label{DataDict:DataDict:__iter__}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.\_\_iter\_\_ \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_iter\_\_}(\textit{self})

    \end{boxedminipage}

    \label{DataDict:DataDict:__len__}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.\_\_len\_\_ \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_len\_\_}(\textit{self})

    \end{boxedminipage}

    \label{object:__new__}
    \index{object.\_\_new\_\_ \textit{(function)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_new\_\_}(\textit{T}, \textit{S}, \textit{...})

    \vspace{1ex}

      \textbf{Return Value}
      \begin{quote}
\begin{alltt}
a new object with type S, a subtype of T
\end{alltt}

      \end{quote}

    \vspace{1ex}

    \end{boxedminipage}

    \label{object:__reduce__}
    \index{object.\_\_reduce\_\_ \textit{(function)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_reduce\_\_}(\textit{...})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    helper for pickle

    \vspace{1ex}

    \end{boxedminipage}

    \label{object:__reduce_ex__}
    \index{object.\_\_reduce\_ex\_\_ \textit{(function)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_reduce\_ex\_\_}(\textit{...})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    helper for pickle

    \vspace{1ex}

    \end{boxedminipage}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_repr\_\_}(\textit{self})

    repr(x)

    \vspace{1ex}

      Overrides: object.\_\_repr\_\_ 	extit{(inherited documentation)}

    \end{boxedminipage}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_setattr\_\_}(\textit{self}, \textit{name}, \textit{value})

    x.\_\_setattr\_\_('name', value) {\textless}=={\textgreater} x.name = 
    value

    \vspace{1ex}

      Overrides: object.\_\_setattr\_\_ 	extit{(inherited documentation)}

    \end{boxedminipage}

    \label{DataDict:DataDict:__setitem__}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.\_\_setitem\_\_ \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_setitem\_\_}(\textit{self}, \textit{name}, \textit{val})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    Assign a value to the smart dictionary.

    If a setfunc exists, that is called first (with args if they exist). 
    Successful setfunc execution is followed by remembering the value that 
    was written, then by an attempt to update a GUI via set\_widget (the 
    default set\_widget function does nothing.) The namemap can map 
    dictionary names to widget names if they are different; exceptions in 
    namemap or set\_widget are ignored.

    \vspace{1ex}

    \end{boxedminipage}

    \label{object:__str__}
    \index{object.\_\_str\_\_ \textit{(function)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_str\_\_}(\textit{x})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    str(x)

    \vspace{1ex}

    \end{boxedminipage}

    \label{DataDict:DataDict:additem}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.additem \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{additem}(\textit{self}, \textit{name}, \textit{val}=\texttt{None}, \textit{setfunc}=\texttt{None}, \textit{getfunc}=\texttt{None}, \textit{args}=\texttt{()}, \textit{kwds}=\texttt{None}, \textit{docstring}=\texttt{None})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
    Put a new entry in the smart dictionary.

    name = string used to identify this thing val = initial value of item 
    setfunc: callable. If defined, it is called with new value on writes 
    getfunc: callable. If defined, it is called on reads args: if defined, 
    passed as last argument for setfunc and getfunc. docstring: help string
    for the item.

    \vspace{1ex}

    \end{boxedminipage}

    \label{DataDict:DataDict:clear}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.clear \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{clear}(\textit{self})

    \end{boxedminipage}

    \label{DataDict:DataDict:copy}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.copy \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{copy}(\textit{self})

    \end{boxedminipage}

    \label{DataDict:DataDict:get}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.get \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{get}(\textit{self}, \textit{key}, \textit{failobj}=\texttt{None})

    \end{boxedminipage}

    \label{DataDict:DataDict:has_key}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.has\_key \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{has\_key}(\textit{self}, \textit{key})

    \end{boxedminipage}

    \label{DataDict:DataDict:items}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.items \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{items}(\textit{self})

    \end{boxedminipage}

    \label{DataDict:DataDict:iteritems}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.iteritems \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{iteritems}(\textit{self})

    \end{boxedminipage}

    \label{DataDict:DataDict:iterkeys}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.iterkeys \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{iterkeys}(\textit{self})

    \end{boxedminipage}

    \label{DataDict:DataDict:itervalues}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.itervalues \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{itervalues}(\textit{self})

    \end{boxedminipage}

    \label{DataDict:DataDict:keys}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.keys \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{keys}(\textit{self})

    \end{boxedminipage}

    \label{DataDict:DataDict:popitem}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.popitem \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{popitem}(\textit{self})

    \end{boxedminipage}

    \label{DataDict:DataDict:set_widget}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.set\_widget \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{set\_widget}(\textit{self}, *\textit{args})

    \end{boxedminipage}

    \label{DataDict:DataDict:setdefault}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.setdefault \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{setdefault}(\textit{self}, \textit{key}, \textit{failobj}=\texttt{None})

    \end{boxedminipage}

    \label{DataDict:DataDict:update}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.update \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{update}(\textit{self}, \textit{dict})

    \end{boxedminipage}

    \label{DataDict:DataDict:values}
    \index{DataDict \textit{(module)}!DataDict.DataDict \textit{(class)}!DataDict.DataDict.values \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{values}(\textit{self})

    \end{boxedminipage}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                            Class Variables                            %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Class Variables}

\begin{longtable}{|p{.30\textwidth}|p{.62\textwidth}|l}
\cline{1-2}
\cline{1-2} \centering \textbf{Name} & \centering \textbf{Description}& \\
\cline{1-2}
\endhead\cline{1-2}\multicolumn{3}{r}{\small\textit{continued on next page}}\\\endfoot\cline{1-2}
\endlastfoot\raggedright \_\-\_\-c\-l\-a\-s\-s\-\_\-\_\- & \textbf{Value:} 
{\tt {\textless}\-a\-t\-t\-r\-i\-b\-u\-t\-e\-~\-'\-\_\-\_\-c\-l\-a\-s\-s\-\_\-\_\-'\-~\-o\-f\-~\-'\-o\-b\-j\-e\-c\-t\-'\-~\-o\-b\-j\-e\-c\-t\-s\-{\textgreater}\-}&\\
\cline{1-2}
\raggedright n\-a\-m\-e\-m\-a\-p\- & \textbf{Value:} 
{\tt \{\-\}\-}&\\
\cline{1-2}
\end{longtable}

    \index{run \textit{(module)}!run.RunDict \textit{(class)}|)}
    \index{run \textit{(module)}|)}
