%
% API Documentation for API Documentation
% Module autouser
%
% Generated by epydoc 3.0alpha2
% [Thu Jul 20 16:44:53 2006]
%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          Module Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{autouser \textit{(module)}|(}
\section{Module autouser}

    \label{autouser}
autouser.py - automatic user object.

Simulates a user for automatically testing code that requires user input. 
It is also useful for scripting that same code for real operation. Check 
the source code in tests.py for an example.

AutoUser is a class that simulates a user at the keyboard.

Quick Start: To use in pydsp, break to the command prompt, then do:

\begin{alltt}
{\textgreater}{\textgreater}{\textgreater} from autouser import AutoUser
{\textgreater}{\textgreater}{\textgreater} my\_user = AutoUser("itime 4000","sscan","srun")
{\textgreater}{\textgreater}{\textgreater} cloop(my\_user)\end{alltt}

You can only use the autouser object once! It depletes its list of commands
as it runs.

To write code that can use autouser objects just make sure the code that 
requires input is defined with raw\_input as a keyword parameter that is 
passed in:

\begin{alltt}
{\textgreater}{\textgreater}{\textgreater} def myfunc( self, raw\_input=raw\_input) :
{\textgreater}{\textgreater}{\textgreater} X = raw\_input("are you sure?")\end{alltt}

then in your test code use a simulated user!

Sample operation:

\begin{alltt}
{\textgreater}{\textgreater}{\textgreater} autouser = AutoUser("Y","N","x")
{\textgreater}{\textgreater}{\textgreater} raw\_input
{\textless}built-in function raw\_input{\textgreater}
{\textgreater}{\textgreater}{\textgreater} raw\_input = autouser
{\textgreater}{\textgreater}{\textgreater} answer = raw\_input("format hard drive?")
format hard drive? Y
{\textgreater}{\textgreater}{\textgreater} answer
'Y'
{\textgreater}{\textgreater}{\textgreater} answer = raw\_input("are you sure?")
are you sure? N
{\textgreater}{\textgreater}{\textgreater} answer
'N'
{\textgreater}{\textgreater}{\textgreater} answer = raw\_input("hit x to continue")
hit x to continue x
{\textgreater}{\textgreater}{\textgreater} answer
'x'
{\textgreater}{\textgreater}{\textgreater} answer = raw\_input("Raise an error at end of list")
Traceback (most recent call last):
  File "{\textless}stdin{\textgreater}", line 1, in ?
  File "utils.py", line 14, in next
    raise StopIteration
StopIteration
{\textgreater}{\textgreater}{\textgreater} del raw\_input\end{alltt}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               Variables                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsection{Variables}

\begin{longtable}{|p{.30\textwidth}|p{.62\textwidth}|l}
\cline{1-2}
\cline{1-2} \centering \textbf{Name} & \centering \textbf{Description}& \\
\cline{1-2}
\endhead\cline{1-2}\multicolumn{3}{r}{\small\textit{continued on next page}}\\\endfoot\cline{1-2}
\endlastfoot\raggedright \_\-\_\-v\-e\-r\-s\-i\-o\-n\-\_\-\_\- & \textbf{Value:} 
{\tt '\-\$\-I\-d\-:\-~\-a\-u\-t\-o\-u\-s\-e\-r\-.\-p\-y\-~\-4\-0\-1\-~\-2\-0\-0\-6\--\-0\-7\--\-1\-1\-~\-2\-2\-:\-3\-1\-:\-5\-8\-Z\-~\-d\-r\-e\-w\-~\-\$\-~\-'\-}&\\
\cline{1-2}
\raggedright \_\-\_\-a\-u\-t\-h\-o\-r\-\_\-\_\- & \textbf{Value:} 
{\tt '\-\$\-A\-u\-t\-h\-o\-r\-:\-~\-d\-r\-e\-w\-~\-\$\-'\-}&\\
\cline{1-2}
\raggedright \_\-\_\-U\-R\-L\-\_\-\_\- & \textbf{Value:} 
{\tt '\-\$\-U\-R\-L\-:\-~\-h\-t\-t\-p\-:\-/\-/\-a\-s\-t\-r\-o\-.\-p\-a\-s\-.\-r\-o\-c\-h\-e\-s\-t\-e\-r\-.\-e\-d\-u\-/\-s\-v\-n\-/\-p\-y\-d\-s\-p\-/\-t\-r\-u\-n\-k\-/\-p\-y\-d\-s\-p\-/\-a\-u\-t\-o\-u\-s\-e\-r\-.\-p\-y\-~\-\$\-'\-}&\\
\cline{1-2}
\end{longtable}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                           Class Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{autouser \textit{(module)}!autouser.AutoUser \textit{(class)}|(}
\subsection{Class AutoUser}

    \label{autouser:AutoUser}
Create a virtual user, executing a list of commands automatically (like a 
macro)


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                Methods                                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Methods}

    \label{autouser:AutoUser:__init__}
    \index{autouser \textit{(module)}!autouser.AutoUser \textit{(class)}!autouser.AutoUser.\_\_init\_\_ \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_init\_\_}(\textit{self}, *\textit{responses})

    \end{boxedminipage}

    \label{autouser:AutoUser:__call__}
    \index{autouser \textit{(module)}!autouser.AutoUser \textit{(class)}!autouser.AutoUser.\_\_call\_\_ \textit{(method)}}

    \vspace{0.5ex}

    \begin{boxedminipage}{\textwidth}

    \raggedright \textbf{\_\_call\_\_}(\textit{self}, \textit{prompt}=\texttt{''})

    \end{boxedminipage}

    \index{autouser \textit{(module)}!autouser.AutoUser \textit{(class)}|)}
    \index{autouser \textit{(module)}|)}
